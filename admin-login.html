<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
import {
  getAuth,
  GoogleAuthProvider,
  signInWithPopup
} from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";

/* üîß Firebase Config */
const firebaseConfig = {
  apiKey: "AIzaSyCzHxyLgn9ZKRwD1X0RuUSq3od6MWizieg",
  authDomain: "powermax-fe149.firebaseapp.com",
  projectId: "powermax-fe149"
};

/* üîê Admin Email */
const ADMIN_EMAIL = "blochakhtar28@gmail.com";

/* üî• Init Firebase */
const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const provider = new GoogleAuthProvider();

/* üîë Login Function */
window.login = async () => {
  try {
    const res = await signInWithPopup(auth, provider);

    if (res.user.email !== ADMIN_EMAIL) {
      alert("‚ùå You are not authorized as admin");
      return;
    }

    // ‚úÖ Admin verified
    window.location.href = "admin.html";

  } catch (e) {
    alert(e.message);
  }
};
</script>
